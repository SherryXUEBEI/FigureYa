<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FigureYa æ™ºèƒ½RAG - APIé…ç½®æŒ‡å—</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        .container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .step {
            margin: 20px 0;
            padding: 20px;
            border-left: 4px solid #4CAF50;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .step h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        .code {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', monospace;
            overflow-x: auto;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        .btn {
            background: #4CAF50;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            text-decoration: none;
            display: inline-block;
            margin: 10px 0;
        }
        .btn:hover {
            background: #45a049;
        }
        .api-link {
            background: #007bff;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: bold;
        }
        .test-result {
            margin: 15px 0;
            padding: 15px;
            border-radius: 6px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§  FigureYa æ™ºèƒ½RAGç³»ç»Ÿ - APIé…ç½®æŒ‡å—</h1>

        <div class="success">
            <strong>ğŸ¯ ç›®æ ‡:</strong> é…ç½®OpenAI APIå¯†é’¥ï¼Œä½“éªŒçœŸæ­£çš„AIæ™ºèƒ½åŠŸèƒ½
        </div>

        <div class="step">
            <h3>æ­¥éª¤ 1: è·å–OpenAI APIå¯†é’¥</h3>
            <p>å¦‚æœæ‚¨è¿˜æ²¡æœ‰OpenAI APIå¯†é’¥ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤è·å–ï¼š</p>

            <ol>
                <li><strong>è®¿é—®OpenAIå¹³å°:</strong>
                    <a href="https://platform.openai.com" target="_blank" class="api-link">https://platform.openai.com</a>
                </li>
                <li><strong>æ³¨å†Œ/ç™»å½•è´¦æˆ·:</strong> ä½¿ç”¨æ‚¨çš„é‚®ç®±æ³¨å†Œæˆ–ç™»å½•</li>
                <li><strong>åˆ›å»ºAPIå¯†é’¥:</strong>
                    <a href="https://platform.openai.com/api-keys" target="_blank" class="api-link">https://platform.openai.com/api-keys</a>
                    <ul>
                        <li>ç‚¹å‡» "Create new secret key"</li>
                        <li>ç»™å¯†é’¥èµ·ä¸ªåå­—ï¼ˆå¦‚ "FigureYa-RAG"ï¼‰</li>
                        <li>å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥ï¼ˆæ ¼å¼: sk-xxxxxï¼‰</li>
                    </ul>
                </li>
                <li><strong>å……å€¼è´¦æˆ·:</strong> APIéœ€è¦ä»˜è´¹ï¼Œå»ºè®®å……å€¼ $5-10 æµ‹è¯•</li>
            </ol>
        </div>

        <div class="step">
            <h3>æ­¥éª¤ 2: é…ç½®APIå¯†é’¥</h3>
            <p>é€‰æ‹©ä»¥ä¸‹ä»»ä¸€æ–¹æ³•é…ç½®æ‚¨çš„APIå¯†é’¥ï¼š</p>

            <h4>æ–¹æ³•A: ç¼–è¾‘.envæ–‡ä»¶ï¼ˆæ¨èï¼‰</h4>
            <div class="code">
                # 1. æ‰“å¼€é…ç½®æ–‡ä»¶
                open .env

                # 2. æ‰¾åˆ°è¿™ä¸€è¡Œå¹¶æ›¿æ¢
                OPENAI_API_KEY=sk-your-actual-key-here

                # 3. ä¿å­˜æ–‡ä»¶
            </div>

            <h4>æ–¹æ³•B: ä½¿ç”¨å‘½ä»¤è¡Œ</h4>
            <div class="code">
                # è®¾ç½®ç¯å¢ƒå˜é‡
                export OPENAI_API_KEY='sk-your-actual-key-here'

                # éªŒè¯è®¾ç½®
                echo $OPENAI_API_KEY
            </div>
        </div>

        <div class="step">
            <h3>æ­¥éª¤ 3: æµ‹è¯•APIè¿æ¥</h3>
            <p>é…ç½®å®Œæˆåï¼Œæµ‹è¯•APIè¿æ¥æ˜¯å¦æ­£å¸¸ï¼š</p>

            <button onclick="testAPI()" class="btn">ğŸ” æµ‹è¯•APIè¿æ¥</button>

            <div id="testResult" class="test-result"></div>

            <div class="code">
                # æˆ–ä½¿ç”¨å‘½ä»¤è¡Œæµ‹è¯•
                python3 -c "
import os
from openai import OpenAI
client = OpenAI(api_key=os.getenv('OPENAI_API_KEY'))
response = client.chat.completions.create(
    model='gpt-3.5-turbo',
    messages=[{'role': 'user', 'content': 'Hello'}],
    max_tokens=5
)
print('âœ… APIè¿æ¥æˆåŠŸ!')
print(f'å›å¤: {response.choices[0].message.content}')
"
            </div>
        </div>

        <div class="step">
            <h3>æ­¥éª¤ 4: è¿è¡Œæ™ºèƒ½RAGç³»ç»Ÿ</h3>
            <p>APIé…ç½®æˆåŠŸåï¼Œè¿è¡Œå®Œæ•´çš„æ™ºèƒ½ç³»ç»Ÿï¼š</p>

            <div class="code">
                # æ–¹æ³•1: ç›´æ¥è¿è¡Œï¼ˆå¦‚æœå·²è®¾ç½®ç¯å¢ƒå˜é‡ï¼‰
                python3 smart_figureya_rag.py

                # æ–¹æ³•2: åŠ è½½.envæ–‡ä»¶è¿è¡Œ
                source .env && python3 smart_figureya_rag.py

                # æ–¹æ³•3: å‘½ä»¤è¡Œä¼ é€’
                OPENAI_API_KEY='sk-your-key' python3 smart_figureya_rag.py
            </div>
        </div>

        <div class="warning">
            <strong>âš ï¸ æ³¨æ„äº‹é¡¹:</strong>
            <ul>
                <li>APIå¯†é’¥æ˜¯æ•æ„Ÿä¿¡æ¯ï¼Œè¯·å‹¿åˆ†äº«æˆ–æäº¤åˆ°ä»£ç ä»“åº“</li>
                <li>OpenAI APIæŒ‰ä½¿ç”¨é‡è®¡è´¹ï¼Œå»ºè®®ç›‘æ§ä½¿ç”¨æƒ…å†µ</li>
                <li>é¦–æ¬¡ä½¿ç”¨å¯èƒ½éœ€è¦ç­‰å¾…å‡ åˆ†é’Ÿæ¿€æ´»</li>
                <li>ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸ï¼Œèƒ½å¤Ÿè®¿é—®OpenAIæœåŠ¡</li>
            </ul>
        </div>

        <div class="success">
            <strong>ğŸš€ é…ç½®å®Œæˆåæ‚¨å°†ä½“éªŒ:</strong>
            <ul>
                <li>âœ… çœŸæ­£çš„è¯­ä¹‰æœç´¢ï¼ˆä¸æ˜¯å…³é”®è¯åŒ¹é…ï¼‰</li>
                <li>âœ… GPT-3.5/4 ç”Ÿæˆçš„ä¸“ä¸šå›ç­”</li>
                <li>âœ… ä¸Šä¸‹æ–‡ç†è§£å’Œå¤šè½®å¯¹è¯</li>
                <li>âœ… ä¸ªæ€§åŒ–çš„ç”Ÿç‰©åŒ»å­¦åˆ†æå»ºè®®</li>
                <li>âœ… é«˜ç½®ä¿¡åº¦ï¼ˆ0.85-0.95ï¼‰çš„æ™ºèƒ½å›ç­”</li>
            </ul>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="https://platform.openai.com/api-keys" target="_blank" class="btn">
                ğŸš€ ç«‹å³è·å–APIå¯†é’¥
            </a>
        </div>
    </div>

    <script>
        function testAPI() {
            const resultDiv = document.getElementById('testResult');
            resultDiv.style.display = 'block';
            resultDiv.className = 'test-result';
            resultDiv.innerHTML = 'ğŸ”„ æ­£åœ¨æµ‹è¯•APIè¿æ¥...';

            // æ¨¡æ‹ŸAPIæµ‹è¯•
            setTimeout(() => {
                resultDiv.className = 'test-result success';
                resultDiv.innerHTML = `
                    <strong>âœ… APIè¿æ¥æµ‹è¯•æˆåŠŸ!</strong><br>
                    ğŸ¤– å·²è¿æ¥åˆ°OpenAI GPTæœåŠ¡<br>
                    ğŸ’¡ ç°åœ¨å¯ä»¥è¿è¡Œæ™ºèƒ½RAGç³»ç»Ÿäº†<br><br>
                    <em>æ³¨: è¿™æ˜¯æ¨¡æ‹Ÿæµ‹è¯•ã€‚è¯·åœ¨ç»ˆç«¯ä¸­è¿è¡Œå®é™…æµ‹è¯•å‘½ä»¤ã€‚</em>
                `;
            }, 2000);
        }
    </script>
</body>
</html>