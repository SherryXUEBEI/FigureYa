<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FigureYa RAG æ™ºèƒ½ç”Ÿç‰©åŒ»å­¦åˆ†æåŠ©æ‰‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .chat-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            height: 80vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .message {
            margin-bottom: 20px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            text-align: right;
        }

        .message.assistant {
            text-align: left;
        }

        .message-bubble {
            display: inline-block;
            max-width: 70%;
            padding: 15px 20px;
            border-radius: 15px;
            word-wrap: break-word;
        }

        .message.user .message-bubble {
            background: #2196f3;
            color: white;
            border-bottom-right-radius: 5px;
        }

        .message.assistant .message-bubble {
            background: white;
            color: #333;
            border: 1px solid #e0e0e0;
            border-bottom-left-radius: 5px;
        }

        .typing-indicator {
            display: none;
            text-align: left;
            margin-bottom: 20px;
        }

        .typing-indicator.active {
            display: block;
        }

        .typing-dots {
            display: inline-block;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 15px;
            padding: 15px 20px;
            border-bottom-left-radius: 5px;
        }

        .typing-dots span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #666;
            margin: 0 2px;
            animation: typing 1.4s infinite;
        }

        .typing-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }

        .chat-input {
            padding: 20px;
            background: white;
            border-top: 1px solid #e0e0e0;
        }

        .input-container {
            display: flex;
            gap: 10px;
        }

        .input-field {
            flex: 1;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .input-field:focus {
            border-color: #2196f3;
        }

        .send-button {
            padding: 15px 30px;
            background: #2196f3;
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .send-button:hover {
            background: #1976d2;
        }

        .send-button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .quick-questions {
            padding: 15px 20px;
            background: #f8f9fa;
            border-top: 1px solid #e0e0e0;
        }

        .quick-questions h3 {
            margin-bottom: 10px;
            color: #666;
            font-size: 14px;
        }

        .question-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .question-tag {
            background: white;
            border: 1px solid #ddd;
            border-radius: 15px;
            padding: 5px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .question-tag:hover {
            background: #2196f3;
            color: white;
            border-color: #2196f3;
        }

        .module-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .module-card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .module-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .module-card h4 {
            color: #2196f3;
            margin-bottom: 8px;
        }

        .module-card p {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }

        .module-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .module-tag {
            background: #e3f2fd;
            color: #1976d2;
            border-radius: 10px;
            padding: 2px 8px;
            font-size: 11px;
        }

        .status-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background: #f8f9fa;
            border-top: 1px solid #e0e0e0;
            font-size: 12px;
            color: #666;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            header h1 {
                font-size: 1.8em;
            }

            .chat-container {
                height: 85vh;
            }

            .message-bubble {
                max-width: 85%;
            }

            .module-cards {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ§  FigureYa RAG</h1>
            <p>æ™ºèƒ½ç”Ÿç‰©åŒ»å­¦åˆ†æåŠ©æ‰‹ - åŸºäºFigureYaçŸ¥è¯†åº“</p>
        </header>

        <div class="chat-container">
            <div class="chat-header">
                <h2>ğŸ’¬ æ™ºèƒ½é—®ç­”</h2>
                <p>åŸºäº300+ç”Ÿç‰©åŒ»å­¦åˆ†ææ¨¡å—çš„ä¸“ä¸šçŸ¥è¯†</p>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="message assistant">
                    <div class="message-bubble">
                        <strong>ğŸ¤– FigureYa RAGåŠ©æ‰‹</strong><br><br>
                        æ‚¨å¥½ï¼æˆ‘æ˜¯åŸºäºFigureYaçŸ¥è¯†åº“çš„æ™ºèƒ½ç”Ÿç‰©åŒ»å­¦åˆ†æåŠ©æ‰‹ã€‚<br><br>
                        æˆ‘å¯ä»¥å¸®åŠ©æ‚¨ï¼š<br>
                        â€¢ ğŸ“Š æ¨èåˆé€‚çš„åˆ†ææ¨¡å—<br>
                        â€¢ ğŸ“‹ æä¾›å‚æ•°è®¾ç½®å»ºè®®<br>
                        â€¢ ğŸ“ æŒ‡å¯¼æ•°æ®æ ¼å¼å‡†å¤‡<br>
                        â€¢ ğŸ“ˆ è§£é‡Šåˆ†æç»“æœ<br><br>
                        è¯·å‘Šè¯‰æˆ‘æ‚¨æƒ³è¦åšä»€ä¹ˆï¼Ÿ
                    </div>
                </div>
            </div>

            <div class="typing-indicator" id="typingIndicator">
                <div class="typing-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>

            <div class="quick-questions">
                <h3>ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆç‚¹å‡»æé—®ï¼‰</h3>
                <div class="question-tags">
                    <div class="question-tag" onclick="askQuestion('RNA-seqå·®å¼‚è¡¨è¾¾åˆ†ææ¨èä»€ä¹ˆæ¨¡å—ï¼Ÿ')">RNA-seqå·®å¼‚è¡¨è¾¾åˆ†æ</div>
                    <div class="question-tag" onclick="askQuestion('ç”Ÿå­˜åˆ†æéœ€è¦ä»€ä¹ˆæ•°æ®æ ¼å¼ï¼Ÿ')">ç”Ÿå­˜åˆ†ææ•°æ®æ ¼å¼</div>
                    <div class="question-tag" onclick="askQuestion('å¦‚ä½•è§£é‡Šç«å±±å›¾çš„ç»“æœï¼Ÿ')">ç«å±±å›¾ç»“æœè§£è¯»</div>
                    <div class="question-tag" onclick="askQuestion('å•ç»†èƒæ•°æ®è´¨é‡æ§åˆ¶ç”¨ä»€ä¹ˆå·¥å…·ï¼Ÿ')">å•ç»†èƒè´¨é‡æ§åˆ¶</div>
                    <div class="question-tag" onclick="askQuestion('PCAåˆ†æç»“æœæ€ä¹ˆçœ‹ï¼Ÿ')">PCAç»“æœè§£è¯»</div>
                    <div class="question-tag" onclick="askQuestion('çƒ­å›¾èšç±»åˆ†ææœ‰ä»€ä¹ˆæŠ€å·§ï¼Ÿ')">çƒ­å›¾èšç±»æŠ€å·§</div>
                </div>
            </div>

            <div class="chat-input">
                <div class="input-container">
                    <input type="text" class="input-field" id="messageInput"
                           placeholder="æè¿°æ‚¨çš„åˆ†æéœ€æ±‚ï¼Œä¾‹å¦‚ï¼šæˆ‘æƒ³åšRNA-seqæ•°æ®çš„å·®å¼‚è¡¨è¾¾åˆ†æ..."
                           onkeypress="handleKeyPress(event)">
                    <button class="send-button" id="sendButton" onclick="sendMessage()">å‘é€</button>
                </div>
            </div>

            <div class="status-info">
                <span id="statusText">å°±ç»ª</span>
                <span id="moduleCount">çŸ¥è¯†åº“: 348ä¸ªæ¨¡å—</span>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let conversationHistory = [];
        let isProcessing = false;

        // æ¨¡æ‹Ÿçš„çŸ¥è¯†åº“æ•°æ®ï¼ˆå®é™…åº”ç”¨ä¸­åº”è¯¥ä»åç«¯APIè·å–ï¼‰
        const mockKnowledgeBase = [
            {
                title: "FigureYa59volcanoV2",
                description: "å·®å¼‚è¡¨è¾¾åˆ†æç«å±±å›¾",
                inputTypes: ["RNA-seq", "è¡¨è¾¾çŸ©é˜µ"],
                outputTypes: ["ç«å±±å›¾"],
                methods: ["å·®å¼‚è¡¨è¾¾åˆ†æ"],
                complexity: "ä¸­çº§"
            },
            {
                title: "FigureYa36nSurvV3",
                description: "ç”Ÿå­˜æ›²çº¿åˆ†æ",
                inputTypes: ["ä¸´åºŠæ•°æ®", "ç”Ÿå­˜æ•°æ®"],
                outputTypes: ["ç”Ÿå­˜æ›²çº¿"],
                methods: ["ç”Ÿå­˜åˆ†æ"],
                complexity: "ä¸­çº§"
            },
            {
                title: "FigureYa9heatmap",
                description: "çƒ­å›¾èšç±»åˆ†æ",
                inputTypes: ["è¡¨è¾¾çŸ©é˜µ"],
                outputTypes: ["çƒ­å›¾"],
                methods: ["èšç±»åˆ†æ"],
                complexity: "åˆçº§"
            },
            {
                title: "FigureYa38PCA",
                description: "PCAä¸»æˆåˆ†åˆ†æ",
                inputTypes: ["è¡¨è¾¾çŸ©é˜µ"],
                outputTypes: ["PCAå›¾"],
                methods: ["ä¸»æˆåˆ†åˆ†æ"],
                complexity: "åˆçº§"
            }
        ];

        // å¤„ç†å›è½¦é”®
        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        // å¿«é€Ÿæé—®
        function askQuestion(question) {
            document.getElementById('messageInput').value = question;
            sendMessage();
        }

        // å‘é€æ¶ˆæ¯
        async function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();

            if (!message || isProcessing) return;

            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
            addMessage(message, 'user');
            conversationHistory.push({ role: 'user', content: message });

            // æ¸…ç©ºè¾“å…¥æ¡†
            input.value = '';

            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            showTypingIndicator();
            setProcessingState(true);

            // æ¨¡æ‹ŸAPIè°ƒç”¨å»¶è¿Ÿ
            await simulateAPIResponse(message);
        }

        // æ·»åŠ æ¶ˆæ¯åˆ°èŠå¤©ç•Œé¢
        function addMessage(content, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;

            const bubble = document.createElement('div');
            bubble.className = 'message-bubble';

            if (sender === 'assistant') {
                // å¤„ç†åŠ©æ‰‹æ¶ˆæ¯çš„markdownæ ¼å¼
                bubble.innerHTML = formatAssistantMessage(content);
            } else {
                bubble.textContent = content;
            }

            messageDiv.appendChild(bubble);
            messagesContainer.appendChild(messageDiv);

            // æ»šåŠ¨åˆ°åº•éƒ¨
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // æ ¼å¼åŒ–åŠ©æ‰‹æ¶ˆæ¯
        function formatAssistantMessage(content) {
            return content
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\n/g, '<br>')
                .replace(/â€¢ (.*?)$/gm, '<li>$1</li>')
                .replace(/<li>/g, '<ul style="margin: 5px 0; padding-left: 20px;"><li>')
                .replace(/<\/li>/g, '</li></ul>');
        }

        // æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨
        function showTypingIndicator() {
            document.getElementById('typingIndicator').classList.add('active');
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // éšè—åŠ è½½æŒ‡ç¤ºå™¨
        function hideTypingIndicator() {
            document.getElementById('typingIndicator').classList.remove('active');
        }

        // è®¾ç½®å¤„ç†çŠ¶æ€
        function setProcessingState(processing) {
            isProcessing = processing;
            const sendButton = document.getElementById('sendButton');
            const statusText = document.getElementById('statusText');

            if (processing) {
                sendButton.disabled = true;
                statusText.textContent = 'æ­£åœ¨æ€è€ƒ...';
            } else {
                sendButton.disabled = false;
                statusText.textContent = 'å°±ç»ª';
            }
        }

        // æ¨¡æ‹ŸAPIå“åº”
        async function simulateAPIResponse(userMessage) {
            // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
            await new Promise(resolve => setTimeout(resolve, 1500 + Math.random() * 1000));

            // æ ¹æ®ç”¨æˆ·æ¶ˆæ¯ç”Ÿæˆå“åº”
            const response = generateMockResponse(userMessage);

            hideTypingIndicator();

            // æ·»åŠ åŠ©æ‰‹å“åº”
            addMessage(response.text, 'assistant');

            // å¦‚æœæœ‰ç›¸å…³æ¨¡å—ï¼Œæ˜¾ç¤ºæ¨¡å—å¡ç‰‡
            if (response.modules && response.modules.length > 0) {
                displayModuleCards(response.modules);
            }

            conversationHistory.push({ role: 'assistant', content: response.text });
            setProcessingState(false);
        }

        // ç”Ÿæˆæ¨¡æ‹Ÿå“åº”
        function generateMockResponse(query) {
            const queryLower = query.toLowerCase();

            // ç®€å•çš„å…³é”®è¯åŒ¹é…é€»è¾‘
            if (queryLower.includes('å·®å¼‚è¡¨è¾¾') || queryLower.includes('rna-seq')) {
                return {
                    text: `## ğŸ¯ æ¨èæ¨¡å—ï¼šå·®å¼‚è¡¨è¾¾åˆ†æ

æ ¹æ®æ‚¨çš„æŸ¥è¯¢ï¼Œæˆ‘æ¨èä»¥ä¸‹æ¨¡å—è¿›è¡ŒRNA-seqå·®å¼‚è¡¨è¾¾åˆ†æï¼š

### ğŸ“Š ä¸»è¦æ¨èï¼šFigureYa59volcanoV2
**å¤æ‚åº¦**: ä¸­çº§
**è¾“å…¥æ•°æ®**: RNA-seqè¡¨è¾¾çŸ©é˜µã€æ ·æœ¬åˆ†ç»„ä¿¡æ¯
**è¾“å‡ºç»“æœ**: ç«å±±å›¾ã€å·®å¼‚è¡¨è¾¾åŸºå› è¡¨

**åŠŸèƒ½æè¿°**: ä¸“ä¸šçš„å·®å¼‚è¡¨è¾¾åˆ†æå·¥å…·ï¼Œç”Ÿæˆæ ‡å‡†ç«å±±å›¾å’Œç»Ÿè®¡ç»“æœã€‚

### ğŸ”„ å…¶ä»–ç›¸å…³æ¨¡å—
1. **FigureYa9heatmap** - å·®å¼‚è¡¨è¾¾åŸºå› çƒ­å›¾å¯è§†åŒ–
2. **FigureYa34count2FPKMv2** - æ•°æ®é¢„å¤„ç†å’Œæ ‡å‡†åŒ–

### ğŸ’¡ ä½¿ç”¨å»ºè®®
1. ç¡®ä¿æ•°æ®æ ¼å¼æ­£ç¡®ï¼ˆåŸºå› è¡¨è¾¾çŸ©é˜µï¼‰
2. è®¾ç½®åˆç†çš„på€¼é˜ˆå€¼ï¼ˆé€šå¸¸0.05ï¼‰
3. å…³æ³¨|logFC| > 1çš„æ˜¾è‘—å·®å¼‚åŸºå› 

éœ€è¦æ›´è¯¦ç»†çš„ä½¿ç”¨æŒ‡å¯¼å—ï¼Ÿ`,
                    modules: [
                        { title: "FigureYa59volcanoV2", description: "å·®å¼‚è¡¨è¾¾åˆ†æç«å±±å›¾", tags: ["RNA-seq", "ç«å±±å›¾", "å·®å¼‚è¡¨è¾¾"] },
                        { title: "FigureYa9heatmap", description: "çƒ­å›¾èšç±»åˆ†æ", tags: ["çƒ­å›¾", "èšç±»", "å¯è§†åŒ–"] }
                    ]
                };
            } else if (queryLower.includes('ç”Ÿå­˜') || queryLower.includes('survival')) {
                return {
                    text: `## ğŸ“ˆ ç”Ÿå­˜åˆ†ææ¨¡å—æ¨è

åŸºäºæ‚¨çš„æŸ¥è¯¢ï¼Œä»¥ä¸‹æ˜¯ç”Ÿå­˜åˆ†æçš„æ¨èæ¨¡å—ï¼š

### ğŸ¯ ä¸»è¦æ¨èï¼šFigureYa36nSurvV3
**å¤æ‚åº¦**: ä¸­çº§
**è¾“å…¥æ•°æ®**: ä¸´åºŠæ•°æ®ã€ç”Ÿå­˜æ—¶é—´å’ŒçŠ¶æ€
**è¾“å‡ºç»“æœ**: Kaplan-Meierç”Ÿå­˜æ›²çº¿ã€é£é™©æ¯”

### ğŸ“ æ•°æ®æ ¼å¼è¦æ±‚
ç”Ÿå­˜æ•°æ®é€šå¸¸éœ€è¦ä¸¤åˆ—ï¼š
- **ç”Ÿå­˜æ—¶é—´**: å¤©æ•°ã€æœˆæ•°æˆ–å¹´æ•°
- **ç”Ÿå­˜çŠ¶æ€**: 1=äº‹ä»¶å‘ç”Ÿï¼Œ0=åˆ å¤±

### ğŸ“Š ç»“æœè§£è¯»
- **HR (é£é™©æ¯”)**: >1è¡¨ç¤ºé«˜é£é™©ï¼Œ<1è¡¨ç¤ºä¿æŠ¤æ€§å› ç´ 
- **På€¼**: <0.05è¡¨ç¤ºç»Ÿè®¡å­¦æ˜¾è‘—
- **ç½®ä¿¡åŒºé—´**: è¯„ä¼°ç»“æœå¯é æ€§

éœ€è¦äº†è§£å…·ä½“çš„æ•°æ®å‡†å¤‡æ­¥éª¤å—ï¼Ÿ`,
                    modules: [
                        { title: "FigureYa36nSurvV3", description: "ç”Ÿå­˜æ›²çº¿åˆ†æ", tags: ["ç”Ÿå­˜åˆ†æ", "Kaplan-Meier", "ä¸´åºŠæ•°æ®"] }
                    ]
                };
            } else if (queryLower.includes('ç«å±±å›¾') || queryLower.includes('volcano')) {
                return {
                    text: `## ğŸ“Š ç«å±±å›¾ç»“æœè§£è¯»æŒ‡å—

ç«å±±å›¾æ˜¯å·®å¼‚è¡¨è¾¾åˆ†æçš„æ ‡å‡†å¯è§†åŒ–æ–¹å¼ï¼š

### ğŸ¯ åæ ‡å«ä¹‰
- **Xè½´**: logFCï¼ˆå¯¹æ•°å€æ•°å˜åŒ–ï¼‰
  - æ­£å€¼ï¼šä¸Šè°ƒåŸºå› 
  - è´Ÿå€¼ï¼šä¸‹è°ƒåŸºå› 
  - ç»å¯¹å€¼è¶Šå¤§ï¼šå·®å¼‚è¶Šæ˜¾è‘—
- **Yè½´**: -log10(P.Value)
  - å€¼è¶Šå¤§ï¼šè¶Šæ˜¾è‘—
  - é€šå¸¸é˜ˆå€¼ï¼š-log10(0.05) â‰ˆ 1.3

### ğŸ“ å…³é”®åŒºåŸŸ
- **å³ä¸Šè§’**: æ˜¾è‘—ä¸Šè°ƒåŸºå› 
- **å·¦ä¸Šè§’**: æ˜¾è‘—ä¸‹è°ƒåŸºå› 
- **ä¸­é—´åŒºåŸŸ**: å·®å¼‚ä¸æ˜¾è‘—åŸºå› 

### ğŸ”¬ ç”Ÿç‰©å­¦æ„ä¹‰
1. **å…³æ³¨æ ¸å¿ƒå·®å¼‚åŸºå› **: |logFC| > 1 ä¸” adj.P.Val < 0.05
2. **åŠŸèƒ½å¯Œé›†åˆ†æ**: äº†è§£å·®å¼‚åŸºå› çš„ç”Ÿç‰©å­¦åŠŸèƒ½
3. **éªŒè¯å·²çŸ¥åŸºå› **: ä¸æ–‡çŒ®æŠ¥é“çš„ä¸€è‡´æ€§

éœ€è¦è¿›ä¸€æ­¥çš„åŠŸèƒ½åˆ†æå»ºè®®å—ï¼Ÿ`,
                    modules: []
                };
            } else {
                return {
                    text: `## ğŸ’¬ ä¸€èˆ¬å’¨è¯¢

æ„Ÿè°¢æ‚¨çš„æŸ¥è¯¢ï¼æˆ‘ç†è§£æ‚¨æƒ³è¦ç”Ÿç‰©åŒ»å­¦åˆ†ææ–¹é¢çš„å¸®åŠ©ã€‚

### ğŸ¯ æˆ‘å¯ä»¥ååŠ©æ‚¨ï¼š
- ğŸ“Š æ¨èåˆé€‚çš„åˆ†ææ¨¡å—
- ğŸ“‹ æä¾›å‚æ•°è®¾ç½®å»ºè®®
- ğŸ“ æŒ‡å¯¼æ•°æ®æ ¼å¼å‡†å¤‡
- ğŸ“ˆ è§£é‡Šåˆ†æç»“æœ
- ğŸ”§ è§£å†³æŠ€æœ¯é—®é¢˜

### ğŸ’¡ å»ºè®®æé—®æ–¹å¼ï¼š
- "æˆ‘æƒ³åš[æ•°æ®ç±»å‹]çš„[åˆ†æç›®æ ‡]ï¼Œæ¨èä»€ä¹ˆæ¨¡å—ï¼Ÿ"
- "[åˆ†ææ–¹æ³•]éœ€è¦ä»€ä¹ˆå‚æ•°è®¾ç½®ï¼Ÿ"
- "å¦‚ä½•è§£é‡Š[å›¾è¡¨ç±»å‹]çš„ç»“æœï¼Ÿ"

è¯·æ›´è¯¦ç»†åœ°æè¿°æ‚¨çš„åˆ†æéœ€æ±‚ï¼Œæˆ‘ä¼šæä¾›é’ˆå¯¹æ€§çš„å»ºè®®ï¼`,
                    modules: mockKnowledgeBase.slice(0, 2)
                };
            }
        }

        // æ˜¾ç¤ºæ¨¡å—å¡ç‰‡
        function displayModuleCards(modules) {
            const messagesContainer = document.getElementById('chatMessages');
            const cardsContainer = document.createElement('div');
            cardsContainer.className = 'module-cards';

            modules.forEach(module => {
                const card = document.createElement('div');
                card.className = 'module-card';
                card.innerHTML = `
                    <h4>${module.title}</h4>
                    <p>${module.description}</p>
                    <div class="module-tags">
                        ${module.tags.map(tag => `<span class="module-tag">${tag}</span>`).join('')}
                    </div>
                `;
                card.onclick = () => {
                    askQuestion(`è¯·è¯¦ç»†ä»‹ç»${module.title}çš„ä½¿ç”¨æ–¹æ³•`);
                };
                cardsContainer.appendChild(card);
            });

            messagesContainer.appendChild(cardsContainer);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // èšç„¦è¾“å…¥æ¡†
            document.getElementById('messageInput').focus();
        });
    </script>
</body>
</html>